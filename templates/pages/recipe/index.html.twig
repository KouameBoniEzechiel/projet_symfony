{% extends 'base.html.twig' %}

{% block title %}ObrigadoRecipe - Mes Recettes{% endblock %}

{% block body %}

<div class="container mt-4">
{% if not recipes is null %}

    <h1>Mes Recettes</h1>
<div class="alert alert-dismissible alert-success count mt-4">
Total des recettes : {{ recipes.getTotalItemCount }}
</div>

{% for message in app.flashes('success') %}
            <div class="alert alert-success">
                {{ message }}
            </div>
        {% endfor %}

<div>
    <a href="{{ path('recettes.create') }}" class="btn btn-primary mb-4">Creer une recette</a>
</div>




    <table class="table table-hover">
  <thead>
    <tr>
      <th scope="col" class="text-center">Numéro</th>
      <th scope="col" class="text-center">Nom</th>
      <th scope="col" class="text-center">Prix</th>
    <th scope="col" class="text-center">Difficulté</th>
  <th scope="col" class="text-center">Prs/plat</th>
<th scope="col" class="text-center">Plat favoris</th>
    <th scope="col" class="text-center">Temps (en min)</th>
      <th scope="col" class="text-center">Date Ajout</th>
      <th scope="col" class="text-center">Edition</th>
    <th scope="col" class="text-center">Suppression</th>
  <th scope="col" class="text-center">Voir Plus</th>
    </tr>
  </thead>
   
  <tbody>
   {% for recipe in recipes %}
    <tr class="table-active">
    <tr class="table-info">
      <th scope="row" class="text-center">{{ recipe.id }}</th>
      <td class="text-center">{{ recipe.nom }}</td>
        <td class="text-center">{{ recipe.price}}</td>
      <td class="text-center">{{recipe.difficulty  is null ? 'Non renseigné' : recipe.difficulty }}</td>
    <td class="text-center">{{ recipe.nbrPersonne is null ? 'Non renseigné' : recipe.nbrPersonne}}</td>
  <td class="text-center">{{ recipe.isFavorite == 0 ? "Non" : "Oui"}}</td>
    <td class="text-center">{{ recipe.time  is null ? 'Non renseigné' : recipe.time }}</td>
      <td class="text-center">{{ recipe.createdAt | date('d/m/Y h:i:s') }}</td>
    <td class="text-center"> <a href="{{ path('recettes.edit', {id : recipe.id }) }}" class="btn btn-info">Modifier recette</a> </td>
  <td class="text-center"> <a href="{{ path('recettes.delete', {id : recipe.id }) }}" class="btn btn-danger">Supprimer recette</a> </td> 
<td class="text-center"> <a href="{{ path('recettes.plus', {id : recipe.id }) }}" class="btn btn-success">Voir Plus</a> </td> 
  

    </tr>
       {% endfor %}
  </tbody>
  
</table>

  <div class="d-flex justify-content-center navigation">
    {{ knp_pagination_render(recipes) }} 
    
</div> 

{% else %}
<div class="alert alert-dismissible alert-success count">
    Il n'y a de recettes disponibles !
</div>
    
 {% endif %}
</div>

{% endblock %}
